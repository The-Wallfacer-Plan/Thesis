 \lstset{
   escapechar=\%,
   captionpos=b,
   aboveskip=12pt,
 %  numbers=left,
 %  xleftmargin=0em,
 %  framexleftmargin=0em,
   frame=single,
   tabsize=2,
   commentstyle=\it,
   basicstyle=\small,
   keywordstyle=\bfseries,
   language=C,
   morekeywords={info, test, letv, in, init, ret},
   showspaces=false,
   showstringspaces=false
 }

\newcommand*{\xzw}[1]{}
\newcommand*{\why}[1]{{\footnotesize \textcolor{red}{$\ll$\textsf{#1} ???$\gg$}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand*{\BN}{\textsf{BN}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\newcommand{\termEmph}[1]{{\normalfont\textsf{#1}}}
\newcommand*{\termEmph}[1]{\emph{#1}}
\newcommand*{\Tcal}{\mathcal{T}}
\newcommand*{\PS}{\ensuremath{\mathbf{P}}}%
\newcommand*{\PPS}{\ensuremath{\!\mathscr{P}\!}}%
\newcommand*{\SL}{\mathscr{L}}%
\newcommand*{\Lbrack}{[\hspace{-.02in}[}
\newcommand*{\Rbrack}{]\hspace{-.02in}]}
\newcommand*{\se}[1]{\Lbrack #1 \Rbrack}

\makeatletter
\def\maketag@@@#1{\hbox{\m@th\normalfont\scriptsize#1}}
\makeatother
\newcommand*{\ruleTagMath}[1]{\scriptsize\text{(#1)}}
\newcommand*{\ruleTagText}[1]{{\text{#1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand*{\leVAL}[1]{\ensuremath{#1}}
\newcommand*{\leVAR}[1]{\ensuremath{#1}}
\newcommand*{\leOP}[2]{\ensuremath{{#1}~\circ~{#2}}}

%---------------------------
\newcommand*{\lcASS}[2]{\ensuremath{{#1}:={#2}}}
\newcommand*{\lcIF}[3]{\ensuremath{{\textbf{if}~{#1}~\textbf{then}~{#2}~\textbf{else}~{#3}}}}
\newcommand*{\lcSEQ}[2]{\ensuremath{{#1};{#2}}}
\newcommand*{\lcWHILE}[2]{\ensuremath{\textbf{while}~{#1}~\textbf{do}~{#2}}}
\newcommand*{\lcCALL}[3]{\ensuremath{{#1}:=\textbf{Icall}~{#2}({#3})}}
\newcommand*{\lcCP}[3]{\ensuremath{{\textbf{test}({#1})~{#2} ~\textbf{else}~ {#3}}}}
\newcommand*{\lcLETVAR}[3]{\ensuremath{{\textbf{letv}~ {#1} = {#2} ~\textbf{in}~ {#3}}}}

\newcommand*{\com}{\ensuremath{\mathit{Cmd}~}}
\newcommand*{\FD}{\ensuremath{\mathcal{F}\mathit{d}}}
\newcommand*{\FT}{\ensuremath{\mathcal{F}\mathit{t}}}

%---------------------------
% NOTE: if lpRES is changed, example code should be changed accordingly
\newcommand*{\lpRES}{\ensuremath{r}}
\newcommand*{\INITVAL}{0}
\newcommand*{\lpINIT}[2]{\ensuremath{{\textbf{init}~ {#1}=\INITVAL ~\textbf{in}~\{{#2};\textbf{ret}~{#1}\}}}}
\newcommand*{\lpPROG}[4]{\ensuremath{{#1}(#2)\big\{{\lpINIT{#4}{#3}}\big\}}}
\newcommand*{\lpFUN}[3]{\ensuremath{\lpPROG{#1}{#2}{#3}{\lpRES}}}

\newcommand*{\app}[2]{\ensuremath{\pi_{{#2}}({#1})}}
\newcommand*{\omerge}[3]{\ensuremath{{#2} \triangleright_{#1} {#3}}}

\newcommand*{\cPair}[2]{\ensuremath{(#1,#2)}}
\newcommand*{\cRawCond}[3]{\ensuremath{(#1,#2\leq#3)}}
\newcommand*{\cCond}[4]{\ensuremath{(\cPair{#1}{#2}\leq\cPair{#3}{#4})}}%{\ensuremath{\big(\cPair{#1}{#2}\leq\cPair{#3}{#4}\big)}}
\newcommand*{\cCondst}[4]{\ensuremath{({#1},{#2},{#3},{#4})}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand*{\rank}[1]{{\textbf{rank}}(#1)}
\newcommand*{\tlength}[1]{\ensuremath{len(#1)}}
\newcommand*{\tLEQl}{\ensuremath{\preceq}}
\newcommand*{\BNTS}{$\mathcal{T}_\mathit{b}$}
\newcommand*{\STTS}{$\mathcal{T}_\mathit{t}$}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\SetLabelAlign{myAlign}{\textup{[}#1\textup{]}:}
\newlist{ProofEnumDesc}{description}{2}
\setlist[ProofEnumDesc]{style=sameline,nosep}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%marco for tyinfer
\newcommand*{\trace}{\ensuremath{\Upsilon}}
\newcommand*{\tplus}[1]{\ensuremath{\oplus #1}}
\newcommand*{\tminus}[1]{\ensuremath{\ominus #1}}
\newcommand*{\tplusminus}[1]{\ensuremath{\circledcirc #1}}
\newcommand*{\tplusminuss}[1]{\ensuremath{\circledast #1}}
%\newcommand*{\isconsistent}[1]{\ensuremath{\Delta(#1)}}
\newcommand*{\issatisfied}[1]{\ensuremath{\Delta(#1)}}
\newcommand*{\dnf}[1]{\ensuremath{dnf(#1)}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\rname}[1]{\mbox{\scriptsize {#1}}}
